theme: dark

server:
  address: tcp://0.0.0.0:9091

log:
  level: info

# üîê No local passwords, no reset flow
authentication_backend:
  disable_reset_password: true
  file:
    path: /config/users.yml

# üö´ Explicitly disable reset password to avoid jwt_secret requirement
identity_validation:
  reset_password:
    disabled: true

access_control:
  default_policy: deny
  rules:
    - domain: "*.market-mitra.online"
      policy: one_factor

session:
  name: authelia_session
  expiration: 1h
  inactivity: 5m
  secret: ${AUTHELIA_SESSION_SECRET}
  cookies:
    - domain: market-mitra.online
      authelia_url: https://auth.market-mitra.online
      default_redirection_url: https://whoami.market-mitra.online

storage:
  encryption_key: ${AUTHELIA_STORAGE_ENCRYPTION_KEY}
  local:
    path: /config/db.sqlite3

notifier:
  filesystem:
    filename: /config/notification.txt

identity_providers:
  oidc:
    hmac_secret: ${AUTHELIA_OIDC_HMAC_SECRET}
    issuers:
      - issuer: https://auth.market-mitra.online
    clients:
      - id: google
        description: Google Login
        client_id: ${GOOGLE_CLIENT_ID}
        secret: ${GOOGLE_CLIENT_SECRET}
        redirect_uris:
          - https://auth.market-mitra.online/api/oidc/callback
        scopes:
          - openid
          - profile
          - email
